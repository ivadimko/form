{"version":3,"sources":["webpack:///js/main.js","webpack:///webpack/bootstrap b7576d14ab529b6ec783","webpack:///./scripts/main.js","webpack:///./scripts/form.js","webpack:///./scripts/validator/index.js","webpack:///./scripts/validator/utils/errors.js","webpack:///./scripts/validator/utils/helper.js","webpack:///./scripts/dialog.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_form","_form2","obj","default","document","addEventListener","Array","from","querySelectorAll","forEach","form","Form","_interopRequireDefault","_classCallCheck","instance","Constructor","TypeError","value","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","_validator","_validator2","_dialog","_dialog2","_class","this","element","fields","map","field","InputBlock","dialog","Dialog","HTMLDialogElement","remove","submit","bind","e","preventDefault","validate","isValid","console","log","$","serialize","openModal","alert","reduce","prev","curr","valid","inputBlock","type","dataset","validation","required","input","querySelector","label","error","validationResult","filter","el","checked","innerText","classList","toggle","_errors","_errors2","_helper","_helper2","helper","isEmpty","errors","replace","isBadText","text","isEmail","email","isDate","date","str","test","includes","Date","getFullYear","selector","actionClose","closeModal","showModal","close"],"mappings":"CAAS,SAAUA,GCInB,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAGA,IAAAC,GAAAF,EAAAD,IACAI,EAAAJ,EACAK,GAAA,EACAH,WAUA,OANAJ,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,GAAA,EAGAF,EAAAD,QAvBA,GAAAD,KA4BAF,GAAAQ,EAAAT,EAGAC,EAAAS,EAAAP,EAGAF,EAAAU,EAAA,SAAAP,EAAAQ,EAAAC,GACAZ,EAAAa,EAAAV,EAAAQ,IACAG,OAAAC,eAAAZ,EAAAQ,GACAK,cAAA,EACAC,YAAA,EACAC,IAAAN,KAMAZ,EAAAmB,EAAA,SAAAf,GACA,GAAAQ,GAAAR,KAAAgB,WACA,WAA2B,MAAAhB,GAAA,SAC3B,WAAiC,MAAAA,GAEjC,OADAJ,GAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAQ,EAAAC,GAAsD,MAAAR,QAAAS,UAAAC,eAAAjB,KAAAc,EAAAC,IAGtDtB,EAAAyB,EAAA,GAGAzB,IAAA0B,EAAA,KDMM,SAAUtB,EAAQD,EAASH,GAEjC,YErEAA,GAAA,EAEA,IAAA2B,GAAA3B,EAAA,GF0EI4B,EAEJ,SAAgCC,GAAO,MAAOA,IAAOA,EAAIT,WAAaS,GAAQC,QAASD,IAFnDF,EExEpCI,UAASC,iBAAiB,mBAAoB,WAC5CC,MAAMC,KAAKH,SAASI,iBAAiB,+BAA+BC,QAAQ,SAAAC,GAC1E,MAAO,IAAIC,WAAKD,QFkFd,SAAUjC,EAAQD,KAMlB,SAAUC,EAAQD,EAASH,GAEjC,YAiBA,SAASuC,GAAuBV,GAAO,MAAOA,IAAOA,EAAIT,WAAaS,GAAQC,QAASD,GAEvF,QAASW,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAhBhH7B,OAAOC,eAAeZ,EAAS,cAC7ByC,OAAO,GAGT,IAAIC,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI3C,GAAI,EAAGA,EAAI2C,EAAMC,OAAQ5C,IAAK,CAAE,GAAI6C,GAAaF,EAAM3C,EAAI6C,GAAWjC,WAAaiC,EAAWjC,aAAc,EAAOiC,EAAWlC,cAAe,EAAU,SAAWkC,KAAYA,EAAWC,UAAW,GAAMrC,OAAOC,eAAegC,EAAQG,EAAWE,IAAKF,IAAiB,MAAO,UAAUR,EAAaW,EAAYC,GAAiJ,MAA9HD,IAAYP,EAAiBJ,EAAYnB,UAAW8B,GAAiBC,GAAaR,EAAiBJ,EAAaY,GAAqBZ,MGvGhiBa,EAAAvD,EAAA,GH2GIwD,EAAcjB,EAAuBgB,GG1GzCE,EAAAzD,EAAA,GH8GI0D,EAAWnB,EAAuBkB,GAMlCE,EAAS,WGhHX,QAAAA,GAAYtB,GAAMG,EAAAoB,KAAAD,GAChBC,KAAKC,QAAUxB,EACfuB,KAAKE,OAAS7B,MAAMC,KAAK0B,KAAKC,QAAQ1B,iBAAiB,8BACpD4B,IAAI,SAAAC,GACH,MAAO,IAAIC,GAAWD,KAE1BJ,KAAKM,OAAS,GAAIC,WAAO,8BAEQ,mBAAtBC,qBACTR,KAAKM,OAAOL,QAAQQ,SACpBT,KAAKM,QAAS,GAGhBN,KAAKC,QAAQ7B,iBAAiB,SAAU4B,KAAKU,OAAOC,KAAKX,OH+I3D,MA1BAf,GAAac,IACXP,IAAK,SACLR,MAAO,SGpHF4B,GACLA,EAAEC,iBACFb,KAAKE,OAAO1B,QAAQ,SAAA4B,GAClBA,EAAMU,aAEJd,KAAKe,YAEPC,QAAQC,IAAIC,EAAElB,KAAKC,SAASkB,aACxBnB,KAAKM,OACPN,KAAKM,OAAOc,YAEZC,MAAM,qCHyHV7B,IAAK,UACLR,MAAO,WGpHP,MAAOgB,MAAKE,OAAOoB,OAAO,SAACC,EAAMC,GAAP,MAAgBD,IAAQC,GAAQA,EAAKC,QAAO,OH2HjE1B,IAGTxD,GAAQ2B,QAAU6B,CAElB,IG1HMM,GH0HW,WGzHf,QAAAA,GAAYqB,GAAY9C,EAAAoB,KAAAK,GACtBL,KAAKC,QAAayB,EAClB1B,KAAK2B,KAAa3B,KAAKC,QAAQ2B,QAAQD,KACvC3B,KAAK6B,WAAa7B,KAAKC,QAAQ2B,QAAQC,WACvC7B,KAAK8B,SAAa9B,KAAKC,QAAQ2B,QAAQE,SACvC9B,KAAK+B,MAA2B,UAAd/B,KAAK2B,KACHtD,MAAMC,KAAK0B,KAAKC,QAAQ1B,iBAAiB,wBACzCyB,KAAKC,QAAQ+B,cAAc,uBAC/ChC,KAAKyB,OAAa,EAClBzB,KAAKiC,MAAajC,KAAKC,QAAQ+B,cAAc,uBAC7ChC,KAAKkC,MAAalC,KAAKC,QAAQ+B,cAAc,uBHyJ/C,MA5BA/C,GAAaoB,IACXb,IAAK,WACLR,MAAO,WG1HP,GAAImD,IACFV,OAAc,EACdS,MAAc,GAGhB,IAAkB,UAAdlC,KAAK2B,MAAoB3B,KAAK8B,SAChCK,EAAiBV,QAAUzB,KAAK+B,MAAMK,OAAO,SAAAC,GAAA,MAAMA,GAAGC,UAASjD,OAC/D8C,EAAiBD,MAAQC,EAAiBV,MAAQ,GAAK,gCAClD,CACL,GAAMrB,IACJpB,MAAYgB,KAAK+B,MAAM/C,MACvBjC,KAAYiD,KAAKiC,MAAMM,UACvBT,SAAY9B,KAAK8B,SACjBH,KAAY3B,KAAK6B,WAEpBM,IAAmB,EAAAvC,EAAA1B,SAASkC,GAE7BJ,KAAKyB,MAAQU,EAAiBV,MAC9BzB,KAAKC,QAAQuC,UAAUC,OAAO,uBAAwBzC,KAAKyB,OAC3DzB,KAAKkC,MAAMK,UAAYJ,EAAiBD,UHiInC7B,MAKH,SAAU7D,EAAQD,EAASH,GAEjC,YAeA,SAASuC,GAAuBV,GAAO,MAAOA,IAAOA,EAAIT,WAAaS,GAAQC,QAASD,GAZvFf,OAAOC,eAAeZ,EAAS,cAC7ByC,OAAO,GI3NT,IAAA0D,GAAAtG,EAAA,GJgOIuG,EAAWhE,EAAuB+D,GI/NtCE,EAAAxG,EAAA,GJmOIyG,EAAWlE,EAAuBiE,EAItCrG,GAAQ2B,QItOO,SAAAkC,GACb,GAAM+B,IACJV,OAAO,EACPS,MAAO,GAQT,IALI9B,EAAM0B,UAAYgB,UAAOC,QAAQ3C,EAAMpB,SACzCmD,EAAiBV,OAAQ,EACzBU,EAAiBD,MAAQc,UAAOlB,SAASmB,QAAQ,KAAM7C,EAAMrD,OAG3DoF,EAAiBV,OAASrB,EAAMuB,KAClC,OAAQvB,EAAMuB,MACZ,IAAK,OACCmB,UAAOI,UAAU9C,EAAMpB,SACzBmD,EAAiBV,OAAQ,EACzBU,EAAiBD,MAAQc,UAAOG,KAAKF,QAAQ,KAAM7C,EAAMrD,MAE3D,MAEF,KAAK,QACE+F,UAAOM,QAAQhD,EAAMpB,SACxBmD,EAAiBV,OAAQ,EACzBU,EAAiBD,MAAQc,UAAOK,MAElC,MAEF,KAAK,OACEP,UAAOQ,OAAOlD,EAAMpB,SACvBmD,EAAiBV,OAAQ,EACzBU,EAAiBD,MAAQc,UAAOO,MAOxC,MAAOpB,KJ8OH,SAAU3F,EAAQD,EAASH,GAEjC,YAGAc,QAAOC,eAAeZ,EAAS,cAC7ByC,OAAO,IAETzC,EAAQ2B,SK5RN4D,SAAU,uBACVqB,KAAM,iCACNE,MAAO,wDACPE,KAAM,sILkSF,SAAU/G,EAAQD,EAASH,GAEjC,YAGAc,QAAOC,eAAeZ,EAAS,cAC7ByC,OAAO,IAETzC,EAAQ2B,SM7SN6E,QADa,SACLS,GACN,MAAgB,KAARA,IAAcA,GAAO,QAAQC,KAAKD,IAG5CN,UALa,SAKHM,GACR,MAAQA,GAAIE,SAAS,MAAQF,EAAIE,SAAS,MAG5CN,QATa,SASLI,GAEN,MADW,yJACDC,KAAKD,IAGjBF,OAda,SAcNE,GAEL,MADW,gIACDC,KAAKD,IAAS,GAAIG,MAAKH,GAAKI,eAAiB,QNiTrD,SAAUpH,EAAQD,EAASH,GAEjC,YASA,SAASwC,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCANhH7B,OAAOC,eAAeZ,EAAS,cAC7ByC,OAAO,GAGT,IAAIC,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI3C,GAAI,EAAGA,EAAI2C,EAAMC,OAAQ5C,IAAK,CAAE,GAAI6C,GAAaF,EAAM3C,EAAI6C,GAAWjC,WAAaiC,EAAWjC,aAAc,EAAOiC,EAAWlC,cAAe,EAAU,SAAWkC,KAAYA,EAAWC,UAAW,GAAMrC,OAAOC,eAAegC,EAAQG,EAAWE,IAAKF,IAAiB,MAAO,UAAUR,EAAaW,EAAYC,GAAiJ,MAA9HD,IAAYP,EAAiBJ,EAAYnB,UAAW8B,GAAiBC,GAAaR,EAAiBJ,EAAaY,GAAqBZ,MAI5hBiB,EAAS,WO7UX,QAAAA,GAAY8D,GAAUjF,EAAAoB,KAAAD,GACpBC,KAAKC,QAAgB9B,SAAS6D,cAAc6B,GAC5C7D,KAAK8D,YAAgB9D,KAAKC,QAAQ+B,cAAc,uBAEhDhC,KAAK8D,YAAY1F,iBAAiB,QAAS4B,KAAK+D,WAAWpD,KAAKX,OP+VlE,MAZAf,GAAac,IACXP,IAAK,YACLR,MAAO,WOjVPgB,KAAKC,QAAQ+D,ePqVbxE,IAAK,aACLR,MAAO,WOlVPgB,KAAKC,QAAQgE,YPuVRlE,IAGTxD,GAAQ2B,QAAU6B","file":"js/main.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(1);\n\nvar _form = __webpack_require__(2);\n\nvar _form2 = _interopRequireDefault(_form);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  Array.from(document.querySelectorAll('[data-role=\"contact-form\"]')).forEach(function (form) {\n    return new _form2.default(form);\n  });\n});\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _validator = __webpack_require__(3);\n\nvar _validator2 = _interopRequireDefault(_validator);\n\nvar _dialog = __webpack_require__(6);\n\nvar _dialog2 = _interopRequireDefault(_dialog);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar _class = function () {\n  function _class(form) {\n    _classCallCheck(this, _class);\n\n    this.element = form;\n    this.fields = Array.from(this.element.querySelectorAll('[data-role=\"input-block\"]')).map(function (field) {\n      return new InputBlock(field);\n    });\n    this.dialog = new _dialog2.default('[data-role=\"modal-dialog\"]');\n\n    if (typeof HTMLDialogElement === 'undefined') {\n      this.dialog.element.remove();\n      this.dialog = false;\n    }\n\n    this.element.addEventListener('submit', this.submit.bind(this));\n  }\n\n  _createClass(_class, [{\n    key: 'submit',\n    value: function submit(e) {\n      e.preventDefault();\n      this.fields.forEach(function (field) {\n        field.validate();\n      });\n      if (this.isValid()) {\n        // just an example. here can be xhr or smth else\n        console.log($(this.element).serialize());\n        if (this.dialog) {\n          this.dialog.openModal();\n        } else {\n          alert('Congrats. Your form is Valid!');\n        }\n      }\n    }\n  }, {\n    key: 'isValid',\n    value: function isValid() {\n      return this.fields.reduce(function (prev, curr) {\n        return prev && curr && curr.valid;\n      }, true);\n    }\n  }]);\n\n  return _class;\n}();\n\nexports.default = _class;\n\nvar InputBlock = function () {\n  function InputBlock(inputBlock) {\n    _classCallCheck(this, InputBlock);\n\n    this.element = inputBlock;\n    this.type = this.element.dataset.type;\n    this.validation = this.element.dataset.validation;\n    this.required = this.element.dataset.required;\n    this.input = this.type === 'radio' ? Array.from(this.element.querySelectorAll('[data-role=\"input\"]')) : this.element.querySelector('[data-role=\"input\"]');\n    this.valid = true;\n    this.label = this.element.querySelector('[data-role=\"label\"]');\n    this.error = this.element.querySelector('[data-role=\"error\"]');\n  }\n\n  _createClass(InputBlock, [{\n    key: 'validate',\n    value: function validate() {\n      var validationResult = {\n        valid: true,\n        error: ''\n      };\n\n      if (this.type === 'radio' && this.required) {\n        validationResult.valid = !!this.input.filter(function (el) {\n          return el.checked;\n        }).length;\n        validationResult.error = validationResult.valid ? '' : 'Please choose the option!';\n      } else {\n        var field = {\n          value: this.input.value,\n          name: this.label.innerText,\n          required: this.required,\n          type: this.validation\n        };\n        validationResult = (0, _validator2.default)(field);\n      }\n      this.valid = validationResult.valid;\n      this.element.classList.toggle('input-block_invalid', !this.valid);\n      this.error.innerText = validationResult.error;\n    }\n  }]);\n\n  return InputBlock;\n}();\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _errors = __webpack_require__(4);\n\nvar _errors2 = _interopRequireDefault(_errors);\n\nvar _helper = __webpack_require__(5);\n\nvar _helper2 = _interopRequireDefault(_helper);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (field) {\n  var validationResult = {\n    valid: true,\n    error: ''\n  };\n\n  if (field.required && _helper2.default.isEmpty(field.value)) {\n    validationResult.valid = false;\n    validationResult.error = _errors2.default.required.replace('%1', field.name);\n  }\n\n  if (validationResult.valid && field.type) {\n    switch (field.type) {\n      case 'text':\n        {\n          if (_helper2.default.isBadText(field.value)) {\n            validationResult.valid = false;\n            validationResult.error = _errors2.default.text.replace('%1', field.name);\n          }\n          break;\n        }\n      case 'email':\n        {\n          if (!_helper2.default.isEmail(field.value)) {\n            validationResult.valid = false;\n            validationResult.error = _errors2.default.email;\n          }\n          break;\n        }\n      case 'date':\n        {\n          if (!_helper2.default.isDate(field.value)) {\n            validationResult.valid = false;\n            validationResult.error = _errors2.default.date;\n          }\n          break;\n        }\n    }\n  }\n\n  return validationResult;\n};\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  required: 'Field %1 is required',\n  text: 'Field %1 can\\'t contain quotes!',\n  email: 'Please enter correct email. E.g. \"johndoe@domain.com\"',\n  date: 'Please enter correct date in yyyy/mm/dd format. E.g. \"2018-03-23\". The year should be greater than 1900 and less or equal to 2015'\n};\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  isEmpty: function isEmpty(str) {\n    return str !== 0 && !str || /^\\s*$/.test(str);\n  },\n  isBadText: function isBadText(str) {\n    return str.includes('\"') || str.includes(\"'\");\n  },\n  isEmail: function isEmail(str) {\n    var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(str);\n  },\n  isDate: function isDate(str) {\n    var re = /(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))/;\n    return re.test(str) && new Date(str).getFullYear() <= 2015;\n  }\n};\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar _class = function () {\n  function _class(selector) {\n    _classCallCheck(this, _class);\n\n    this.element = document.querySelector(selector);\n    this.actionClose = this.element.querySelector('[data-role=\"close\"]');\n\n    this.actionClose.addEventListener('click', this.closeModal.bind(this));\n  }\n\n  _createClass(_class, [{\n    key: 'openModal',\n    value: function openModal() {\n      this.element.showModal();\n    }\n  }, {\n    key: 'closeModal',\n    value: function closeModal() {\n      this.element.close();\n    }\n  }]);\n\n  return _class;\n}();\n\nexports.default = _class;\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// js/main.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b7576d14ab529b6ec783","import '@/styles/main.scss'\n\nimport Form from './form';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  Array.from(document.querySelectorAll('[data-role=\"contact-form\"]')).forEach(form => {\n    return new Form(form);\n  });\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/main.js","import validate from './validator';\nimport Dialog from './dialog';\n\n\nexport default class {\n  constructor(form) {\n    this.element = form;\n    this.fields = Array.from(this.element.querySelectorAll('[data-role=\"input-block\"]'))\n      .map(field => {\n        return new InputBlock(field);\n      });\n    this.dialog = new Dialog('[data-role=\"modal-dialog\"]');\n\n    if (typeof HTMLDialogElement === 'undefined') {\n      this.dialog.element.remove();\n      this.dialog = false;\n    }\n\n    this.element.addEventListener('submit', this.submit.bind(this));\n  }\n\n  submit(e) {\n    e.preventDefault();\n    this.fields.forEach(field => {\n      field.validate();\n    });\n    if (this.isValid()) {\n      // just an example. here can be xhr or smth else\n      console.log($(this.element).serialize())\n      if (this.dialog) {\n        this.dialog.openModal();\n      } else {\n        alert('Congrats. Your form is Valid!')\n      }\n    }\n  }\n\n  isValid() {\n    return this.fields.reduce((prev, curr) => prev && curr && curr.valid, true);\n  }\n}\n\n\n\nclass InputBlock {\n  constructor(inputBlock) {\n    this.element    = inputBlock;\n    this.type       = this.element.dataset.type;\n    this.validation = this.element.dataset.validation;\n    this.required   = this.element.dataset.required;\n    this.input      = this.type === 'radio'\n                      ? Array.from(this.element.querySelectorAll('[data-role=\"input\"]'))\n                      : this.element.querySelector('[data-role=\"input\"]');\n    this.valid      = true;\n    this.label      = this.element.querySelector('[data-role=\"label\"]');\n    this.error      = this.element.querySelector('[data-role=\"error\"]');\n\n  }\n\n  validate() {\n    let validationResult = {\n      valid       : true,\n      error       : ''\n    };\n\n    if (this.type === 'radio' && this.required) {\n      validationResult.valid = !!this.input.filter(el => el.checked).length;\n      validationResult.error = validationResult.valid ? '' : 'Please choose the option!';\n    } else {\n      const field = {\n        value     : this.input.value,\n        name      : this.label.innerText,\n        required  : this.required,\n        type      : this.validation\n      };\n     validationResult = validate(field);\n    }\n    this.valid = validationResult.valid;\n    this.element.classList.toggle('input-block_invalid', !this.valid);\n    this.error.innerText = validationResult.error;\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./scripts/form.js","import errors from './utils/errors';\nimport helper from './utils/helper';\nexport default field => {\n  const validationResult = {\n    valid: true,\n    error: ''\n  };\n\n  if (field.required && helper.isEmpty(field.value)) {\n    validationResult.valid = false;\n    validationResult.error = errors.required.replace('%1', field.name);\n  }\n\n  if (validationResult.valid && field.type) {\n    switch (field.type) {\n      case 'text': {\n        if (helper.isBadText(field.value)) {\n          validationResult.valid = false;\n          validationResult.error = errors.text.replace('%1', field.name);\n        }\n        break;\n      }\n      case 'email': {\n        if (!helper.isEmail(field.value)) {\n          validationResult.valid = false;\n          validationResult.error = errors.email;\n        }\n        break;\n      }\n      case 'date': {\n        if (!helper.isDate(field.value)) {\n          validationResult.valid = false;\n          validationResult.error = errors.date;\n        }\n        break;\n      }\n    }\n  }\n\n  return validationResult\n}\n\n\n// WEBPACK FOOTER //\n// ./scripts/validator/index.js","export default {\n  required: 'Field %1 is required',\n  text: 'Field %1 can\\'t contain quotes!',\n  email: 'Please enter correct email. E.g. \"johndoe@domain.com\"',\n  date: 'Please enter correct date in yyyy/mm/dd format. E.g. \"2018-03-23\". The year should be greater than 1900 and less or equal to 2015'\n}\n\n\n// WEBPACK FOOTER //\n// ./scripts/validator/utils/errors.js","export default {\n  isEmpty(str) {\n    return (str !== 0 && !str || /^\\s*$/.test(str));\n  },\n\n  isBadText(str) {\n    return (str.includes('\"') || str.includes(\"'\"));\n  },\n\n  isEmail(str) {\n    const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(str);\n  },\n\n  isDate(str) {\n    const re = /(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))/;\n    return re.test(str) && (new Date(str).getFullYear() <= 2015);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./scripts/validator/utils/helper.js","export default class {\n  constructor(selector) {\n    this.element       = document.querySelector(selector);\n    this.actionClose   = this.element.querySelector('[data-role=\"close\"]');\n\n    this.actionClose.addEventListener('click', this.closeModal.bind(this));\n  }\n\n  openModal() {\n    this.element.showModal()\n  }\n\n  closeModal() {\n    this.element.close();\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./scripts/dialog.js"],"sourceRoot":""}